<!doctype html>
<html>
	<head>
		<title>canvasExample</title>
        <meta charset='utf-8' />
	</head>
    <body>
		<canvas height='1000' width='1000' id='canvas'>Обновите браузер</canvas>
        <script>
           

        var data=[];
        var fathers=[];
        var middle=[];
        function push_data(i,  x){
            if(i>=0 && i<data.length){
                data.push(x);
                fathers.push(i);
            }
            else{
                alert("Stack "+i+" not found");
            }
        }
            function draw(x,y,d,f){
                var canvas = document.getElementById('canvas');
  if (canvas.getContext) {
    var ctx = canvas.getContext('2d')
                ctx.fillStyle="blue";
                l=6+5+5+d.length+3+5+5+f.length;
                ctx.strokeRect(x+100,y+100,l+1000,20);
                middle.push(l);}
            }

        function pop_data(i){
            if(i>=0 && i<data.length){
                if(i==fathers[i]){
                    alert("Stack "+i+" is empty");
                    return 0;
                }
                var dad=fathers[fathers[i]];
                var data_fathers=0;
                if(dad==fathers[i]){
                    dad=data.length;
                }
                else{
                    data_fathers=data[fathers[i]];
                }
                data.push(data_fathers);
                fathers.push(dad);
                alert(data[i]);
                return data[i];
            }
            else{
                alert("Stack "+i+" not found");
                return 0;
            }
        }
        data.push(0);
        fathers.push(0);
            draw(100,1000,"0","0");
        var l=prompt("gg");
        var d=l.split(" ");
        while(d[0]!=0){
            if(d[0]==1){
                push_data(d[1],d[2]);
            }
            if(d[0]==2){
                pop_data(d[1]);
            }
            l=prompt("gg");
            d=l.split(" ");
        }
        </script>
    </body>